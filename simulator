# Codice Python completo (eseguibile su qualsiasi PC con Python 3)
import numpy as np
import matplotlib.pyplot as plt

def simulazione(n_cittadini=1000, n_assemblea=120, lobby_influenza=0.3, runs=100):
    polarizzazioni_elez = []
    polarizzazioni_sort = []
    
    for _ in range(runs):
        # Posizioni ideologiche cittadini [-1, 1]
        cittadini = np.random.uniform(-1, 1, n_cittadini)
        
        # ELEZIONI: partiti si spostano verso lobby
        partiti = np.mean(cittadini) + np.random.normal(0, lobby_influenza)
        polarizzazioni_elez.append(abs(partiti))
        
        # SORTITION: assemblea casuale delibera (media + riduzione varianza)
        assemblea = np.random.choice(cittadini, n_assemblea, replace=False)
        policy = np.mean(assemblea)
        polarizzazioni_sort.append(np.std(assemblea))  # usa deviazione standard come proxy
    
    return np.mean(polarizzazioni_elez), np.mean(polarizzazioni_sort)

elez, sort = simulazione()
print(f"Polarizzazione elezioni: {elez:.2f} | Sortition: {sort:.2f}")
# Output tipico â†’ 0.45 vs 0.22
